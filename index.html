<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script>
      AFRAME.registerComponent('cursor-listener', {
        init: function () {
          var el = this.el;
          el.addEventListener('click', function (evt) {
            var infoPanel = document.querySelector('#infoPanel');
            infoPanel.setAttribute('visible', 'true');
          });
        }
      });

      function closeInfoPanel() {
        var infoPanel = document.querySelector('#infoPanel');
        infoPanel.setAttribute('visible', 'false');
      }
    </script>
  </head>
  <body>
    <a-scene vr-mode-ui="enabled: true">
      <a-assets>
        <a-asset-item id="crate-obj" src="assets/videoclubVinilo.obj"></a-asset-item>
        <a-asset-item id="crate-mtl" src="assets/videoclubVinilo.mtl"></a-asset-item>
        <a-image id="aframe" src="assets/alejandro_sanz.jpg"></a-image>
      </a-assets>

      <a-obj-model src="#crate-obj" mtl="#crate-mtl"></a-obj-model>
      
      <a-obj-model src="crate.obj" mtl="crate.mtl"></a-obj-model>

      <a-entity position="0 3 -5">
        <a-text value="Texto en tu modelo" color="#000" align="center" width="4"></a-text>
      </a-entity>

      <!-- Mover img -->
      <a-image src="#aframe" position="4 1 -2" rotation="0 0 0" width="1.5" height="1.345"></a-image>

      <a-plane position="0 0 -5" rotation="0 0 0" width="100" height="0.1" color="#555"></a-plane>
  
      <!-- Botón -->
      <a-entity position="0 1.5 -4" rotation="0 0 0">
        <a-box color="blue" width="2" height="1" depth="0.1" class="clickable"></a-box>
        <a-text value="Click Me" align="center" position="0 0 0.06"></a-text>
        <a-entity cursor-listener></a-entity>
      </a-entity>

      <!-- Panel de Información -->
      <a-plane id="infoPanel" position="0 1.5 -3" width="4" height="2" color="#FFF" visible="false">
        <a-text value="Canción: Amiga mía\nAuthor: Alejandro Sanz\nAño: 1997" color="#000" align="center" position="0 0.5 0"></a-text>
        <a-box color="red" width="0.5" height="0.5" depth="0.1" position="1.75 0.75 0" class="clickable" onclick="closeInfoPanel()"></a-box>
        <a-text value="X" align="center" position="1.75 0.75 0.06"></a-text>
      </a-plane>

      <a-sky color="#fff"></a-sky>

      <!-- Añadir el cursor -->
      <a-entity camera look-controls>
        <a-cursor></a-cursor>
      </a-entity>
    </a-scene>
  </body>
</html>
